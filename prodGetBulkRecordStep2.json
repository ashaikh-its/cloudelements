{"id":4575,"name":"prodGetBulkRecordStep2","description":"","userId":154529,"accountId":154251,"createdDate":"2017-10-26T16:43:06Z","steps":[{"id":48835,"onSuccess":[],"onFailure":[],"name":"bulkStream","type":"elementRequestStream","properties":{"uploadFormDataName":"${steps.buildMetadata.name}","downloadMethod":"GET","uploadApi":"/hubs/db/bulk/${config.destinationobjectname}","uploadFormData":"${steps.buildMetadata.metaData}","uploadElementInstanceId":"${config.destinationinstance}","downloadHeaders":"${steps.buildMetadata.downloadHeaders}","downloadApi":"/hubs/helpdesk/bulk/${trigger.args.id}/${config.sourceobjectname}","downloadElementInstanceId":"${config.origininstance}","uploadMethod":"POST"}},{"id":48836,"onSuccess":["buildMetadata"],"onFailure":[],"name":"isSuccessful","type":"filter","properties":{"body":"let status = trigger.args.status;\n\nif ((status && status === \"COMPLETED\") || (status && status === \"ABORTED\")) {\n  done(true);\n} else {\n  done(false);\n}"}},{"id":48834,"onSuccess":["bulkStream"],"onFailure":[],"name":"buildMetadata","type":"script","properties":{"body":"let metaData = {\n  \"identifierFieldName\": config.identifierfield\n}\n\nlet downloadHeaders = {\n  \"Accept\":\"text/csv\"\n};\n\ndone({\n  \"name\":\"metaData\",\n  \"metaData\": metaData,\n  \"downloadHeaders\": downloadHeaders\n});\n "}}],"triggers":[{"id":4157,"onSuccess":["isSuccessful"],"onFailure":[],"type":"manual","async":true,"name":"trigger","properties":{}}],"active":true,"singleThreaded":false,"debugLoggingEnabled":true,"configuration":[{"id":14336,"key":"destinationinstance","name":"DestinationInstance","type":"elementInstance","required":true},{"id":14337,"key":"destinationobjectname","name":"DestinationObjectName","type":"value","required":true},{"id":14338,"key":"identifierfield","name":"identifierfield","type":"value","required":true},{"id":14339,"key":"origininstance","name":"OriginInstance","type":"elementInstance","required":true},{"id":14340,"key":"sourceobjectname","name":"SourceObjectName","type":"value","required":true}]}